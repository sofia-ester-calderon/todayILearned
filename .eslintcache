[{"/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/index.js":"1","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/App.js":"2","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/reportWebVitals.js":"3","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/aws-exports.js":"4","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/routing/RoutingComponent.js":"5","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/aboutme/AboutMeContainer.js":"6","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/login/LoginContainer.js":"7","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/login/LoginForm.js":"8","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/common/text/TextInput.js":"9","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/data/authHelper.js":"10","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/blogs/blogList/AllBlogsContainer.js":"11","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/routing/GuardedRoute.js":"12","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/blogs/edit-create/EditBlogContainer.js":"13","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/blogs/edit-create/CreateBlogContainer.js":"14","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/blogs/edit-create/BlogForm.js":"15","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/tags/TagConfigurerContainer.js":"16","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/tags/TagOverview.js":"17","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/data/blogHelper.js":"18","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/hooks/BlogTags.js":"19","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/tags/TagList.js":"20","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/hooks/UserState.js":"21","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/blogs/blogList/BlogList.js":"22","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/blogs/blogList/BlogView.js":"23","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/menu/MenuBar.js":"24"},{"size":739,"mtime":1607293264108,"results":"25","hashOfConfig":"26"},{"size":549,"mtime":1608082431287,"results":"27","hashOfConfig":"26"},{"size":362,"mtime":1606957477348,"results":"28","hashOfConfig":"26"},{"size":875,"mtime":1608179943605,"results":"29","hashOfConfig":"26"},{"size":1085,"mtime":1608159100463,"results":"30","hashOfConfig":"26"},{"size":126,"mtime":1607045426911,"results":"31","hashOfConfig":"26"},{"size":2096,"mtime":1608099842301,"results":"32","hashOfConfig":"26"},{"size":1191,"mtime":1607320386042,"results":"33","hashOfConfig":"26"},{"size":1105,"mtime":1607474429998,"results":"34","hashOfConfig":"26"},{"size":298,"mtime":1607986221834,"results":"35","hashOfConfig":"26"},{"size":2129,"mtime":1609719933372,"results":"36","hashOfConfig":"26"},{"size":307,"mtime":1607384216306,"results":"37","hashOfConfig":"26"},{"size":643,"mtime":1608156360344,"results":"38","hashOfConfig":"26"},{"size":4235,"mtime":1609713015659,"results":"39","hashOfConfig":"26"},{"size":2711,"mtime":1608182254946,"results":"40","hashOfConfig":"26"},{"size":3295,"mtime":1607665702328,"results":"41","hashOfConfig":"26"},{"size":2491,"mtime":1607599911805,"results":"42","hashOfConfig":"26"},{"size":4325,"mtime":1609720013456,"results":"43","hashOfConfig":"26"},{"size":620,"mtime":1607580692888,"results":"44","hashOfConfig":"26"},{"size":657,"mtime":1608014144694,"results":"45","hashOfConfig":"26"},{"size":1676,"mtime":1609721693911,"results":"46","hashOfConfig":"26"},{"size":800,"mtime":1608156004037,"results":"47","hashOfConfig":"26"},{"size":1071,"mtime":1608182952765,"results":"48","hashOfConfig":"26"},{"size":1624,"mtime":1608095665423,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"1j2h0w5",{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"52"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84","usedDeprecatedRules":"52"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},"/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/index.js",[],["101","102"],"/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/App.js",[],"/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/reportWebVitals.js",[],"/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/aws-exports.js",[],"/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/routing/RoutingComponent.js",[],"/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/aboutme/AboutMeContainer.js",[],"/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/login/LoginContainer.js",[],"/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/login/LoginForm.js",[],"/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/common/text/TextInput.js",[],"/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/data/authHelper.js",[],"/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/blogs/blogList/AllBlogsContainer.js",["103","104"],"/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/routing/GuardedRoute.js",[],"/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/blogs/edit-create/EditBlogContainer.js",[],"/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/blogs/edit-create/CreateBlogContainer.js",["105"],"import React, { useEffect, useState } from \"react\";\nimport BlogForm from \"./BlogForm\";\nimport { EditorState, convertToRaw, convertFromRaw } from \"draft-js\";\nimport TagConfigurerContainer from \"../../tags/TagConfigurerContainer\";\nimport Modal from \"react-modal\";\nimport { useBlogTagsContext } from \"../../../hooks/BlogTags\";\nimport blogHelper from \"../../../data/blogHelper\";\n\nvar dateFormat = require(\"dateformat\");\n\nconst CreateBlogContainer = (props) => {\n  const emptyBlog = {\n    title: \"\",\n    date: dateFormat(new Date(), \"yyyy-mm-dd\"),\n    text: \"\",\n  };\n  const tagContext = useBlogTagsContext();\n\n  const [newBlog, setNewBlog] = useState(emptyBlog);\n  const [editorText, setEditorText] = useState(EditorState.createEmpty());\n  const [showTagModal, setShowTagModal] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [originalTags, setOriginalTags] = useState([]);\n\n  useEffect(() => {\n    Modal.setAppElement(\"body\");\n  }, []);\n\n  useEffect(() => {\n    if (props.match.params.id) {\n      getBlog();\n    } else {\n      setNewBlog(emptyBlog);\n      setEditorText(EditorState.createEmpty());\n      tagContext.setBlogTags([]);\n    }\n  }, [props.match.params.id]);\n\n  async function getBlog() {\n    const blog = await blogHelper.getBlog(props.match.params.id);\n    console.log(\"got blog\", blog);\n    const updateBlog = {\n      title: blog.title,\n      date: blog.date,\n      id: blog.id,\n      text: blog.text,\n      _version: blog._version,\n    };\n    setNewBlog(updateBlog);\n    setEditorText(\n      EditorState.createWithContent(convertFromRaw(JSON.parse(blog.text)))\n    );\n    const tags = blog.tags.items.map((item) => {\n      return {\n        name: item.tag.name,\n        id: item.tag.id,\n      };\n    });\n    tagContext.setBlogTags(tags);\n    setOriginalTags(blog.tags.items.map((item) => item.tag.id));\n  }\n\n  function onChangeBlogInfo(event) {\n    const { name, value } = event.target;\n    setNewBlog((prevDetails) => ({\n      ...prevDetails,\n      [name]: value,\n    }));\n  }\n\n  function onChangeEditorText(event) {\n    setNewBlog((prevDetails) => ({\n      ...prevDetails,\n      text: JSON.stringify(convertToRaw(event.getCurrentContent())),\n    }));\n    setEditorText(event);\n  }\n\n  function onConfigureTags(event) {\n    event.preventDefault();\n    setShowTagModal(true);\n  }\n\n  function onCloseModal() {\n    if (tagContext.blogTags.length === 0) {\n      setErrors({ tags: \"A blog must have at least one tag\" });\n      return;\n    }\n    setShowTagModal(false);\n    setErrors({});\n  }\n\n  async function onCreateBlog(event) {\n    event.preventDefault();\n    console.log(\"blog: \", newBlog);\n    console.log(\"tags: \", tagContext.blogTags);\n\n    if (isFormValid()) {\n      if (props.match.params.id) {\n        await blogHelper.updateBlog(newBlog, tagContext.blogTags, originalTags);\n      } else {\n        await blogHelper.createBlog(newBlog, tagContext.blogTags);\n      }\n      tagContext.setBlogTags([]);\n      props.history.push(\"/\");\n    }\n  }\n\n  function isFormValid() {\n    const blogErrors = {};\n    if (!newBlog.title || newBlog.title === \"\") {\n      blogErrors.title = \"Please enter a title\";\n    }\n    if (!newBlog.date || newBlog.date === \"\") {\n      blogErrors.date = \"Please enter a valid date\";\n    }\n    if (tagContext.blogTags.length === 0) {\n      blogErrors.tags = \"A blog must have at least one tag\";\n    }\n    setErrors(blogErrors);\n    return Object.keys(blogErrors).length === 0;\n  }\n\n  function onCancel(event) {\n    event.preventDefault();\n    tagContext.setBlogTags([]);\n    props.history.push(\"/\");\n  }\n\n  return (\n    <>\n      <BlogForm\n        title={newBlog.title}\n        date={newBlog.date}\n        onChange={onChangeBlogInfo}\n        editorState={editorText}\n        onEditorChange={onChangeEditorText}\n        onConfigureTags={onConfigureTags}\n        hideEditor={showTagModal}\n        tags={tagContext.blogTags}\n        onCreateBlog={onCreateBlog}\n        errors={errors}\n        onCancel={onCancel}\n        editMode={props.match.params.id}\n      />\n      <Modal isOpen={showTagModal} style={{ content: { top: \"130px\" } }}>\n        <TagConfigurerContainer onClose={onCloseModal} error={errors.tags} />\n      </Modal>\n    </>\n  );\n};\n\nexport default CreateBlogContainer;\n","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/blogs/edit-create/BlogForm.js",[],"/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/tags/TagConfigurerContainer.js",["106","107"],"import React, { useEffect, useState } from \"react\";\nimport TagOverview from \"./TagOverview\";\nimport blogHelper from \"../../data/blogHelper\";\nimport { useBlogTagsContext } from \"../../hooks/BlogTags\";\n\nconst TagConfigurerContainer = ({ onClose, error }) => {\n  const tagContext = useBlogTagsContext();\n\n  const [unusedTags, setUnusedTags] = useState([]);\n  const [usedTags, setUsedTags] = useState([]);\n  const [tagData, setTagData] = useState({ name: \"\" });\n  const [loading, setLoading] = useState(false);\n  const [creating, setCreating] = useState(false);\n  const [errors, setErrors] = useState();\n\n  useEffect(() => {\n    fetchTags();\n  }, []);\n\n  useEffect(() => {\n    if (usedTags.length > 0) {\n      tagContext.setBlogTags([...usedTags]);\n    }\n  }, [usedTags]);\n\n  useEffect(() => {\n    setErrors((prevData) => ({ ...prevData, tag: error }));\n  }, [error]);\n\n  async function fetchTags() {\n    setLoading(true);\n    const tagsFromApi = await blogHelper.fetchTags();\n    console.log(\"TAGS FROM GRAPHQL\", tagsFromApi);\n    setUsedAndUnusedTags(tagsFromApi);\n    setLoading(false);\n  }\n\n  function setUsedAndUnusedTags(allTags) {\n    setUsedTags(tagContext.blogTags.sort(compare));\n\n    const blogTagIds = tagContext.blogTags.map((tag) => tag.id);\n\n    const remainingTags = allTags.filter((tag) => !blogTagIds.includes(tag.id));\n    setUnusedTags(remainingTags.sort(compare));\n  }\n\n  function onChangeTagName(event) {\n    const { value } = event.target;\n    setTagData({ name: value });\n  }\n\n  async function onCreateNewTag(event) {\n    setErrors((prevData) => ({ ...prevData, create: null }));\n\n    event.preventDefault();\n    if (tagData.name === \"\") {\n      return;\n    }\n    const allTags = [...unusedTags, ...usedTags];\n    if (\n      allTags.find(\n        (tag) => tag.name.toUpperCase() === tagData.name.toUpperCase()\n      )\n    ) {\n      setErrors((prevData) => ({ ...prevData, create: \"Tag already exists\" }));\n      return;\n    }\n    setCreating(true);\n    const newTag = await blogHelper.createTag(tagData);\n    setTagData({ name: \"\" });\n    setUnusedTags((prevData) => [...prevData, newTag]);\n    setCreating(false);\n  }\n\n  function onAddTagToBlog(blogTag) {\n    setUsedTags((prevData) => {\n      let tags = [...prevData, blogTag];\n      tags = tags.sort(compare);\n      return tags;\n    });\n    setUnusedTags((prevData) =>\n      prevData.filter((tag) => tag.id !== blogTag.id)\n    );\n  }\n\n  function onRemoveTagFromBlog(blogTag) {\n    setUsedTags((prevData) => prevData.filter((tag) => tag.id !== blogTag.id));\n    setUnusedTags((prevData) => {\n      let tags = [...prevData, blogTag];\n      tags = tags.sort(compare);\n      return tags;\n    });\n  }\n\n  function compare(a, b) {\n    if (a.name.toUpperCase() < b.name.toUpperCase()) return -1;\n    if (b.name.toUpperCase() > a.name.toUpperCase()) return 1;\n    return 0;\n  }\n\n  return (\n    <>\n      <TagOverview\n        unusedTags={unusedTags}\n        usedTags={usedTags}\n        tagName={tagData.name}\n        onChangeTagName={onChangeTagName}\n        onCreateTag={onCreateNewTag}\n        onClose={onClose}\n        loading={loading}\n        creating={creating}\n        onAddTag={onAddTagToBlog}\n        onRemoveTag={onRemoveTagFromBlog}\n        errors={errors}\n      />\n    </>\n  );\n};\n\nexport default TagConfigurerContainer;\n","/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/tags/TagOverview.js",[],"/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/data/blogHelper.js",["108","109"],"/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/hooks/BlogTags.js",[],"/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/tags/TagList.js",[],"/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/hooks/UserState.js",["110"],"/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/blogs/blogList/BlogList.js",[],"/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/blogs/blogList/BlogView.js",[],"/Users/sofiacalderon/Documents/private_projects/react/todayILearned/today-i-learned/src/components/menu/MenuBar.js",[],{"ruleId":"111","replacedBy":"112"},{"ruleId":"113","replacedBy":"114"},{"ruleId":"115","severity":1,"message":"116","line":5,"column":10,"nodeType":"117","messageId":"118","endLine":5,"endColumn":24},{"ruleId":"119","severity":1,"message":"120","line":22,"column":6,"nodeType":"121","endLine":22,"endColumn":15,"suggestions":"122"},{"ruleId":"119","severity":1,"message":"123","line":37,"column":6,"nodeType":"121","endLine":37,"endColumn":29,"suggestions":"124"},{"ruleId":"119","severity":1,"message":"125","line":18,"column":6,"nodeType":"121","endLine":18,"endColumn":8,"suggestions":"126"},{"ruleId":"119","severity":1,"message":"127","line":24,"column":6,"nodeType":"121","endLine":24,"endColumn":16,"suggestions":"128"},{"ruleId":"115","severity":1,"message":"129","line":118,"column":7,"nodeType":"117","messageId":"118","endLine":118,"endColumn":24},{"ruleId":"115","severity":1,"message":"130","line":136,"column":7,"nodeType":"117","messageId":"118","endLine":136,"endColumn":18},{"ruleId":"115","severity":1,"message":"131","line":2,"column":8,"nodeType":"117","messageId":"118","endLine":2,"endColumn":18},"no-native-reassign",["132"],"no-negated-in-lhs",["133"],"no-unused-vars","'convertFromRaw' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetch'. Either include it or remove the dependency array.","ArrayExpression",["134"],"React Hook useEffect has missing dependencies: 'emptyBlog', 'getBlog', and 'tagContext'. Either include them or remove the dependency array.",["135"],"React Hook useEffect has a missing dependency: 'fetchTags'. Either include it or remove the dependency array.",["136"],"React Hook useEffect has a missing dependency: 'tagContext'. Either include it or remove the dependency array.",["137"],"'fetchBlogsForTags' is assigned a value but never used.","'filterBlogs' is assigned a value but never used.","'authHelper' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"138","fix":"139"},{"desc":"140","fix":"141"},{"desc":"142","fix":"143"},{"desc":"144","fix":"145"},"Update the dependencies array to be: [fetch, session]",{"range":"146","text":"147"},"Update the dependencies array to be: [emptyBlog, getBlog, props.match.params.id, tagContext]",{"range":"148","text":"149"},"Update the dependencies array to be: [fetchTags]",{"range":"150","text":"151"},"Update the dependencies array to be: [tagContext, usedTags]",{"range":"152","text":"153"},[664,673],"[fetch, session]",[1163,1186],"[emptyBlog, getBlog, props.match.params.id, tagContext]",[643,645],"[fetchTags]",[756,766],"[tagContext, usedTags]"]